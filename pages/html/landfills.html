<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landfills</title>
    <link rel="stylesheet" href="../css/landfills.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmRCbw0wPrWLGb4aKSw6Oa05n4EExHG0n6tQ&s" type="image/x-icon">
    <link rel="stylesheet" href="../css/general.css">
</head>
<body>
    <div class="card">

        <nav>
            <div class="container">
                <nav class="navbar">
                    <ul class="nav-links">
                        <li  class="nav-link">
                       <div class="brand">
                        <h4 >
                            <span  class="material-symbols-outlined">
                                temp_preferences_eco 
                            </span> <span class="text">Eco-tech</span> 
                        </h4>
                       </div>
                            
                           
                        
    
    
                        <li class="nav-link services">
                            <a href="#">Landfills
                                <span class="material-symbols-outlined">
                                    arrow_drop_down
                                    </span>
                            </a>
                            <li><a href="E-waste Facts.html">E-waste Facts</a></li>
                              <li><a href="Recycling Guide.html">Recycling Guide</a></li>
                                <li><a href="E-waste News.html">E-waste News</a></li>
                                <li><a href="ventures.html">Ventures</a></li>
                                <li><a href="landfills.html">Landfills</a></li>
                                 <li><a href="About Us.html">About Us</a></li>
                                      <hr>
                                     <li><a href="download.html">Download PDF</a></li>
                                
                              
                            </ul>
        
                    </ul>
                </nav>
            </div>
        </nav>
        <div class="map-container">
            <h3>landfills Close to you</h3>
            <div id="map" style="height: 100%;mask-border-width: 100%;"></div>

            <script>
                // Function to initialize and display the map
                function initMap() {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(showMap, handleError);
                    } else {
                        alert("Geolocation is not supported by this browser.");
                    }
                }
        
                function showMap(position) {
                    var userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
        
                    // Initialize the map
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 10,
                        center: userLocation
                    });
        
                    // Display user's location on the map
                    new google.maps.Marker({
                        position: userLocation,
                        map: map,
                        title: "You are here!"
                    });
        
                    // Fetch nearby service providers (dummy data for example)
                    var serviceLocations = [
                        {lat: userLocation.lat + 0.01, lng: userLocation.lng + 0.01, name: "Service 1", contact: "123-456-7890"},
                        {lat: userLocation.lat + 0.02, lng: userLocation.lng - 0.02, name: "Service 2", contact: "234-567-8901"},
                        // Add more service locations as needed
                    ];
        
                    // Add markers for service locations
                    serviceLocations.forEach(function(location) {
                        var marker = new google.maps.Marker({
                            position: {lat: location.lat, lng: location.lng},
                            map: map,
                            title: location.name
                        });
        
                        var infoWindow = new google.maps.InfoWindow({
                            content: `<h3>${location.name}</h3><p>${location.contact}</p>`
                        });
        
                        marker.addListener('click', function() {
                            infoWindow.open(map, marker);
                        });
                    });
                }
        
                function handleError(error) {
                    console.error("Error getting location: ", error);
                    alert("Unable to retrieve your location.");
                }
        
                // Ensure the map initializes once the DOM is fully loaded
                document.addEventListener('DOMContentLoaded', initMap);
            </script>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-__5LN6WUhHgR4sdBlLPTjOUhBY18OSw&callback=initMap" async defer></script>
        </div>
</div>    
    
</body>
</html>